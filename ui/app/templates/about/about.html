{% extends "base.html" %}

{% block title %}About - {{ app_name }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">About the Project</h1>
    <p class="page-description">
        The Pangenome Research Observatory is a collaborative platform for exploring
        microbial genomics using the KBase BERDL data lakehouse.
    </p>
</div>

<section class="section">
    <h2>Purpose</h2>
    <div class="card">
        <p>
            This project has dual goals:
        </p>
        <ol>
            <li><strong>Science:</strong> Answer research questions in microbial genomics and ecology</li>
            <li><strong>Knowledge:</strong> Capture learnings to reduce re-discovery overhead for future researchers</li>
        </ol>
        <p>
            We use the <code>kbase_ke_pangenome</code> database containing {{ total_genomes }} genomes
            across {{ total_species }} species to pursue scientific questions while building shared
            documentation that accelerates future work.
        </p>
    </div>
</section>

<section class="section">
    <h2>The Data</h2>
    <div class="card">
        <p>
            The database is built on GTDB r214 and includes:
        </p>
        <ul>
            <li>Species-level pangenomes computed with motupan (90% AAI clustering)</li>
            <li>Pairwise ANI between genomes (~421M pairs)</li>
            <li>Functional annotations via eggNOG v6 (COG, GO, KEGG, EC, PFAM)</li>
            <li>Metabolic pathway predictions via GapMind</li>
            <li>Environmental embeddings from AlphaEarth (28.4% coverage)</li>
        </ul>
        <p>
            <a href="/data" class="btn btn-secondary mt-4">Explore Data Catalog</a>
        </p>
    </div>
</section>

<section class="section">
    <h2>Getting Started</h2>
    <div class="grid grid-2">
        <div class="card">
            <h4>For Researchers</h4>
            <ol>
                <li>Browse existing <a href="/projects">projects</a> for inspiration</li>
                <li>Check the <a href="/data/schema">schema browser</a> for available data</li>
                <li>Read <a href="/knowledge/pitfalls">query pitfalls</a> before writing SQL</li>
                <li>Access JupyterHub at <a href="https://hub.berdl.kbase.us" target="_blank">hub.berdl.kbase.us</a></li>
            </ol>
        </div>
        <div class="card">
            <h4>For Contributors</h4>
            <ol>
                <li>Pick a <a href="/knowledge/ideas">research idea</a> or propose your own</li>
                <li>Create a project folder in <code>projects/</code></li>
                <li>Document findings in <code>docs/discoveries.md</code></li>
                <li>Share pitfalls and learnings as you go</li>
            </ol>
        </div>
    </div>
</section>

<section class="section">
    <h2>Resources</h2>
    <div class="grid grid-3">
        <a href="https://hub.berdl.kbase.us" class="card" target="_blank">
            <h4>BERDL JupyterHub</h4>
            <p class="text-muted text-small">Run Spark queries directly on the cluster</p>
        </a>
        <a href="/data/schema" class="card">
            <h4>Schema Browser</h4>
            <p class="text-muted text-small">Explore tables and columns</p>
        </a>
        <a href="/knowledge/pitfalls" class="card">
            <h4>Query Pitfalls</h4>
            <p class="text-muted text-small">Avoid common mistakes</p>
        </a>
    </div>
</section>
{% endblock %}
