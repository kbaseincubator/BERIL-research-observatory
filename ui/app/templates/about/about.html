{% extends "base.html" %}

{% block title %}About - {{ app_name }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">About KBase / BERIL</h1>
    <p class="page-description">
        AI-powered exploration of the KBase Data Lakehouse.
    </p>
</div>

<section class="section">
    <h2>What is KBase / BERIL?</h2>
    <div class="card" style="border-left: 4px solid var(--accent-primary);">
        <p>
            <strong>BERIL</strong> is an AI integration layer for the <strong>KBase BER Data Lakehouse (BERDL)</strong>.
            It provides resources, skills, and plugins that enable AI agents and human researchers to analyze
            BERDL data collaboratively.
        </p>
        <p style="margin-top: var(--space-4);">
            Through the BERIL Research Observatory, users can:
        </p>
        <ul style="margin-top: var(--space-2);">
            <li><strong>Explore multiple data collections</strong> across the BERDL lakehouse</li>
            <li><strong>Analyze their own data</strong> in the context of BERDL reference collections</li>
            <li><strong>Share discoveries</strong>, lessons learned, and pitfalls with proper attribution</li>
            <li><strong>Use AI assistants</strong> with BERIL skills to accelerate analysis</li>
        </ul>
    </div>
</section>

<section class="section">
    <h2>What is BERDL?</h2>
    <div class="card">
        <p>
            The <strong>KBase BER Data Lakehouse (BERDL)</strong> is a Delta Lakehouse hosting
            <strong>35 databases across 9 tenants</strong> of curated scientific datasets for
            computational biology research. It provides:
        </p>
        <ul style="margin-top: var(--space-4);">
            <li><strong>Multiple data collections</strong> including pangenomes, mutant fitness data, biochemistry, multi-omics, marine ecology, phage research, and more</li>
            <li><strong>Spark SQL access</strong> for large-scale queries</li>
            <li><strong>JupyterHub integration</strong> for interactive analysis</li>
            <li><strong>REST API</strong> for programmatic access</li>
        </ul>
        <p style="margin-top: var(--space-4);">
            <a href="https://hub.berdl.kbase.us" class="btn btn-secondary" target="_blank">Access BERDL JupyterHub</a>
        </p>
    </div>
</section>

<section class="section">
    <h2>Primary Collections</h2>
    <div class="grid grid-2">
        {% for coll in primary_collections %}
        <a href="/collections/{{ coll.id }}" class="card" style="text-decoration: none;">
            <div class="flex items-center gap-4" style="margin-bottom: var(--space-2);">
                <span style="font-size: 1.25rem;">{{ coll.icon | safe }}</span>
                <h4 style="margin-bottom: 0; color: var(--text-primary);">{{ coll.name }}</h4>
            </div>
            <p class="text-muted text-small" style="font-family: var(--font-mono);">{{ coll.id }}</p>
            <p style="margin-top: var(--space-2);">
                {{ coll.description[:200] }}{% if coll.description|length > 200 %}...{% endif %}
            </p>
        </a>
        {% endfor %}
    </div>
    <p style="margin-top: var(--space-4);">
        <a href="/collections" class="btn btn-primary">Explore All {{ collection_count }} Collections</a>
    </p>
</section>

<section class="section">
    <h2>AI Integration</h2>
    <div class="card">
        <p>
            BERIL provides skills and plugins for AI assistants that enable:
        </p>
        <ul style="margin-top: var(--space-4);">
            <li><strong>Schema exploration</strong> - Understand available tables and columns</li>
            <li><strong>Query generation</strong> - Generate SQL queries for common analysis patterns</li>
            <li><strong>Data interpretation</strong> - Help interpret results in biological context</li>
            <li><strong>Cross-collection analysis</strong> - Combine data from multiple collections</li>
        </ul>
        <p style="margin-top: var(--space-4);">
            AI assistants with BERIL skills can help researchers explore the data lakehouse more efficiently,
            reducing the overhead of learning new schemas and query patterns.
        </p>
    </div>
</section>

<section class="section">
    <h2>Getting Started</h2>
    <div class="grid grid-2">
        <div class="card">
            <h4>For Researchers</h4>
            <ol>
                <li>Browse existing <a href="/projects">projects</a> for inspiration</li>
                <li>Explore <a href="/collections">collections</a> to understand available data</li>
                <li>Read <a href="/knowledge/pitfalls">query pitfalls</a> before writing SQL</li>
                <li>Access JupyterHub at <a href="https://hub.berdl.kbase.us" target="_blank">hub.berdl.kbase.us</a></li>
            </ol>
        </div>
        <div class="card">
            <h4>For Contributors</h4>
            <ol>
                <li>Pick a <a href="/knowledge/ideas">research idea</a> or propose your own</li>
                <li>Create a project folder in <code>projects/</code></li>
                <li>Document findings in <code>docs/discoveries.md</code></li>
                <li>Share pitfalls and learnings as you go</li>
            </ol>
        </div>
    </div>
</section>

<section class="section">
    <h2>Resources</h2>
    <div class="grid grid-3">
        <a href="https://hub.berdl.kbase.us" class="card" target="_blank">
            <h4>BERDL JupyterHub</h4>
            <p class="text-muted text-small">Run Spark queries directly on the cluster</p>
        </a>
        <a href="/collections" class="card">
            <h4>Collections</h4>
            <p class="text-muted text-small">Explore data collections and schemas</p>
        </a>
        <a href="/knowledge/pitfalls" class="card">
            <h4>Query Pitfalls</h4>
            <p class="text-muted text-small">Avoid common mistakes</p>
        </a>
    </div>
</section>
{% endblock %}
